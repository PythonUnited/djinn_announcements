{% load humanize %}

<section id="announcements" class="editmode">
  
  <header>
    <h3>
      Mededelingen
      
      <span class="controls">
        <a class="add-inline"
           data-pu_callback="djinn.hide_announcements_alert"
           target="#announcementlist"
           data-pu_targetbehavior="prepend"
           href="{%  url djinn_announcements_add_announcement_json %}">
          <i class="icon-plus"></i>
        </a>
      </span>
    </h3>
  </header>

  <ul id="announcementlist"
      {% if announcements|length = 0 %}class="hide"{% endif %}
      >
    {% for announcement in view.announcements %}
    <li>
      <a data-target="#MyModal"
         href="{% url djinn_announcements_view_announcement announcement.id %}"
         data-toggle="modal">
        {{ announcement.title_slice }}
      </a>
      {{ announcement.created|naturalday:_("MONTH_DAY_FORMAT") }}
    </li>
    {% endfor %}
  </ul>
  
  {% if view.announcements|length = 0 %}
  
  <div class="alert alert-info" id="announcements-alert">
    Er zijn geen mededelingen.
  </div>
  
  {% endif %}

</section>
